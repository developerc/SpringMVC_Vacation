<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
   <f:view>
      <h:outputLabel value="Тренируюсь работать с JSF и PrimeFaces"/>
   </f:view>
   <!--   добавлял таблицу JSF -->
   <h:head>
      <title>Разметка отпусков сотрудников</title>
      <h:outputStylesheet library = "CSS" name = "styles.css"  />
   </h:head>

   <h:body>
      <!--
            <h:form>
               <h:dataTable value = "#{userData.employees}" var = "employee"
                            styleClass = "employeeTable"
                            headerClass = "employeeTableHeader"
                            rowClasses = "employeeTableOddRow,employeeTableEvenRow">

                  <h:column>
                     <f:facet name = "header">Name</f:facet>
                     #{employee.name}
                  </h:column>

                  <h:column>
                     <f:facet name = "header">Department</f:facet>
                     #{employee.department}
                  </h:column>

                  <h:column>
                     <f:facet name = "header">Age</f:facet>
                     #{employee.age}
                  </h:column>

                  <h:column>
                     <f:facet name = "header">Salary</f:facet>
                     #{employee.salary}
                  </h:column>
               </h:dataTable>
            </h:form>

            <h:outputStylesheet library="CSS" name="styles.css" />
            <h:form>
            <p:dataTable value = "#{userData.employees}" var = "employee">
               <p:column headerText="Name">
                  <h:outputText value="#{employee.name}" />
               </p:column>
               <p:column headerText="Department">
                  <h:outputText value="#{employee.department}" />
               </p:column>
               <p:column headerText="Age" styleClass="#{employee.age eq 33 ? 'employeeTableEvenRow' : ''}">
                  <h:outputText value="#{employee.age}"/>

               </p:column>
               <p:column headerText="Salary">
                  <h:outputText value="#{employee.salary}" />
               </p:column>
            </p:dataTable>
            </h:form>
            -->
            <!--
                   <h:form id="form">
                       <p:dataTable value="#{repData.repStr}" var="item">
                           <p:column headerText="один">
                               <h:outputText value="#{item}"/>
                           </p:column>
                           <p:column headerText="два">
                               <h:outputText value="#{item}"/>
                           </p:column>
                           <p:column headerText="три">
                               <h:outputText value="#{item}"/>
                           </p:column>
                       </p:dataTable>
                   </h:form>
                   -->
      <!--Создаем динамически таблицу-->
      <!--
    <h:form id="dynamic_columns">
        <h3>Dynamic Data table example</h3>
        <p:dataTable id="idTable" var="person" value="#{repData.tableData}">
            <p:columns value="#{repData.columnHeaders}" var="column" columnIndexVar="colIndex">
                <f:facet name="header">
                    #{column}
                </f:facet>

                <h:outputText value="#{person[colIndex]}"/>
            </p:columns>
        </p:dataTable>
    </h:form>
    -->
      <!--
            <h:outputStylesheet library = "CSS" name = "styleshed.css"  />
            <h:form>
            <h:dataTable value="#{sheData.holyday}" var="hol"
                         styleClass = "shedTable"
                         headerClass = "shedTableHeader"
                         border="1"
                         rowClasses = "employeeTableOddRow,employeeTableEvenRow">
               <h:column>
                  <f:facet name="header">1 Jan</f:facet>
                  #{hol.jan1}

               </h:column>
               <h:column>
                  <f:facet name="header">2 Jan</f:facet>
                  #{hol.jan2}
               </h:column>
               <h:column>
                  <f:facet name="header">3 Jan</f:facet>
                  #{hol.jan3}
               </h:column>
               <h:column>
                  <f:facet name="header">4 Jan</f:facet>
                  #{hol.jan4}
               </h:column>
               <h:column>
                  <f:facet name="header">5 Jan</f:facet>
                  #{hol.jan5}
               </h:column>
               <h:column>
                  <f:facet name="header">6 Jan</f:facet>
                  #{hol.jan6}
               </h:column>
               <h:column>
                  <f:facet name="header">7 Jan</f:facet>
                  #{hol.jan7}
               </h:column>
               <h:column>
                  <f:facet name="header">8 Jan</f:facet>
                  #{hol.jan8}
               </h:column>
               <h:column>
                  <f:facet name="header">9 Jan</f:facet>
                  #{hol.jan9}
               </h:column>
               <h:column>
                  <f:facet name="header">10 Jan</f:facet>
                  #{hol.jan10}
               </h:column>
               <h:column>
                  <f:facet name="header">11 Jan</f:facet>
                  #{hol.jan11}
               </h:column>
               <h:column>
                  <f:facet name="header">12 Jan</f:facet>
                  #{hol.jan12}
               </h:column>
               <h:column>
                  <f:facet name="header">13 Jan</f:facet>
                  #{hol.jan13}
               </h:column>
               <h:column>
                  <f:facet name="header">14 Jan</f:facet>
                  #{hol.jan14}
               </h:column>
               <h:column>
                  <f:facet name="header">15 Jan</f:facet>
                  #{hol.jan15}
               </h:column>
               <h:column>
                  <f:facet name="header">16 Jan</f:facet>
                  #{hol.jan16}
               </h:column>
               <h:column>
                  <f:facet name="header">17 Jan</f:facet>
                  #{hol.jan17}
               </h:column>
               <h:column>
                  <f:facet name="header">18 Jan</f:facet>
                  #{hol.jan18}
               </h:column>
               <h:column>
                  <f:facet name="header">19 Jan</f:facet>
                  #{hol.jan19}
               </h:column>
               <h:column>
                  <f:facet name="header">20 Jan</f:facet>
                  #{hol.jan20}
               </h:column>
               <h:column>
                  <f:facet name="header">21 Jan</f:facet>
                  #{hol.jan21}
               </h:column>
               <h:column>
                  <f:facet name="header">22 Jan</f:facet>
                  #{hol.jan22}
               </h:column>
               <h:column>
                  <f:facet name="header">23 Jan</f:facet>
                  #{hol.jan23}
               </h:column>
               <h:column>
                  <f:facet name="header">24 Jan</f:facet>
                  #{hol.jan24}
               </h:column>
               <h:column>
                  <f:facet name="header">25 Jan</f:facet>
                  #{hol.jan25}
               </h:column>
               <h:column>
                  <f:facet name="header">26 Jan</f:facet>
                  #{hol.jan26}
               </h:column>
               <h:column>
                  <f:facet name="header">27 Jan</f:facet>
                  #{hol.jan27}
               </h:column>
               <h:column>
                  <f:facet name="header">28 Jan</f:facet>
                  #{hol.jan28}
               </h:column>
               <h:column>
                  <f:facet name="header">29 Jan</f:facet>
                  #{hol.jan29}
               </h:column>
               <h:column>
                  <f:facet name="header">30 Jan</f:facet>
                  #{hol.jan30}
               </h:column>
               <h:column>
                  <f:facet name="header">31 Jan</f:facet>
                  #{hol.jan31}
               </h:column>

            </h:dataTable>
            </h:form>
            -->
            <!-- Добавление персонала  -->
      <h:form>

         <h:panelGrid columns="4" style="margin-bottom:10px" cellpadding="5">
            <p:outputLabel for="console" value="Персонал:" />
            <p:selectOneMenu id="console" value="#{dateData.selectedItem}" style="width:300px">
<!--               <f:selectItem itemLabel="#{dateData.firstItemEmployee}" />  -->
               <f:selectItem itemLabel="Ф.И.О. сотрудника" />
               <f:selectItems value="#{dateData.items}" />
               <p:ajax event="change" listener="#{dateData.subjectSelectionChanged}" update="console"/>
            </p:selectOneMenu>
            <!-- ФИО нового сотрудника пишем в форме -->
            <p:inputText id="elemlistonemenu" value="#{dateData.elemListOneMenu}"/>
            <!-- нажатием на кнопку добавляем сотрудника в список. По умолчанию Ajax включен, обновляется selectOneMenu -->
            <p:commandButton value="Добавить сотрудника" id="ajax"  actionListener="#{dateData.buttonAction}" styleClass="ui-priority-primary" update="console"/>
         </h:panelGrid>
      </h:form>
      <!--Добавляем календарь  -->


      <h:form id="dynamic_date">
         <h:panelGrid columns="2" cellpadding="5">
            <p:outputLabel for="button" value="Начало отпуска:" />
            <p:calendar id="button" value="#{dateData.date3}" showOn="button">
               <p:ajax event="dateSelect" listener="#{dateData.onDate3Select}" />
            </p:calendar>

            <p:outputLabel for="button2" value="Конец отпуска:" />
            <p:calendar id="button2" value="#{dateData.date4}" showOn="button">
               <p:ajax event="dateSelect" listener="#{dateData.onDate4Select}" />
            </p:calendar>
         </h:panelGrid>
         <p:commandButton value="Обновить таблицу" icon="ui-icon-check" >
            <p:ajax update="idDateTable" listener="#{dateData.clickComButton}"/>
         </p:commandButton>

         <!--Динамически создаем таблицу PrimeFaces  -->
         <h3>Таблица отпусков сотрудников</h3>
         <p:dataTable id="idDateTable" var="person" value="#{dateData.tableData}" scrollable="true" scrollWidth="100%" resizableColumns="true" resizeMode="expand">
            <p:columns value="#{dateData.columnHeaders}" var="column" columnIndexVar="colIndex" style="width:40px;" >
               <f:facet name="header">
                  #{column}
               </f:facet>

               <h:outputText value="#{person[colIndex]}"/>
            </p:columns>
         </p:dataTable>
      </h:form>

   </h:body>
</html>
